<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="theme-color" content="#000000">
<meta name="apple-mobile-web-app-capable" content="yes">

<title>Лиза ✨</title>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

html, body {
    background: #000;
    min-height: 100dvh;
    font-family: Arial, sans-serif;
    overflow-x: hidden;
}

/* ===== HERO ===== */
.hero {
    position: relative;
    height: 100dvh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    background: radial-gradient(circle at center, #050510 0%, #000 80%);
    padding-bottom: 15px;
}

canvas { position: absolute; top: 0; left: 0; }

/* ===== ТЕКСТ ===== */
h1 {
    font-size: 120px;
    font-weight: bold;
    z-index: 2;
    opacity: 0;
    transform: scale(0.8);
    background: linear-gradient(45deg, #ff00cc,#3333ff,#00ffff,#ffcc00,#ff0066);
    background-size: 400% 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradientMove 6s ease infinite, fadeInText 3s ease forwards;
    text-shadow: 0 0 25px rgba(255,255,255,0.4);
}

@keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
@keyframes fadeInText { to { opacity: 1; transform: scale(1); } }

/* ===== ЛЕНТА ===== */
.feed {
    background: #000;
    display: flex;
    flex-direction: column;
    padding: 20px;
    gap: 20px;
}
.feed img {
    width: 100%;
    display: block;
    border-radius: 8px;
    object-fit: cover;
}
</style>
</head>
<body>

<div class="hero">
    <canvas id="stars"></canvas>
    <h1 id="heroText">lizasex</h1>
</div>

<div class="feed">
    <img src="IMG_0146.jpeg">
    <img src="IMG_0148.jpeg">
    <img src="IMG_0149.jpeg">
    <img src="IMG_0150.jpeg">
    <img src="IMG_0151.jpeg">
    <img src="IMG_0152.jpeg">
    <img src="IMG_0153.jpeg">
    <img src="IMG_0154.jpeg">
</div>

<audio id="bgMusic" loop>
    <source src="SEMATARY - 9 SCARECROWS.mp3" type="audio/mpeg">
</audio>

<script>
// ===== ИНИЦИАЛИЗАЦИЯ ЗВЁЗД =====
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");
const heroText = document.getElementById("heroText");
const music = document.getElementById("bgMusic");

let stars = [], mouseX = 0, mouseY = 0;

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

for (let i = 0; i < 250; i++) {
    stars.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        radius: Math.random() * 1.5,
        speed: Math.random() * 0.6,
        alpha: Math.random(),
        twinkleSpeed: Math.random() * 0.02
    });
}

function drawStars() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    stars.forEach(star => {
        star.alpha += star.twinkleSpeed;
        if (star.alpha > 1) star.twinkleSpeed *= -1;
        if (star.alpha < 0) star.twinkleSpeed *= -1;

        ctx.globalAlpha = star.alpha;
        ctx.beginPath();
        ctx.arc(star.x + mouseX*0.02, star.y + mouseY*0.02, star.radius, 0, Math.PI*2);
        ctx.fillStyle = "white";
        ctx.fill();

        star.y += star.speed;
        if (star.y > canvas.height) {
            star.y = 0;
            star.x = Math.random() * canvas.width;
        }
    });
    ctx.globalAlpha = 1;
    requestAnimationFrame(drawStars);
}
drawStars();

window.addEventListener("mousemove", e => {
    mouseX = (e.clientX - canvas.width/2)/50;
    mouseY = (e.clientY - canvas.height/2)/50;
});

// ===== ЗАПУСК МУЗЫКИ С WEB AUDIO =====
document.addEventListener("click", function unlockAudio() {
    // создаём контекст аудио внутри клика
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const source = audioCtx.createMediaElementSource(music);
    const analyser = audioCtx.createAnalyser();
    analyser.fftSize = 256;
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
    const dataArray = new Uint8Array(analyser.frequencyBinCount);

    // запускаем музыку
    music.volume = 0;
    music.play().then(() => {
        // плавный fade-in
        const fade = setInterval(() => {
            if (music.volume < 0.98) music.volume += 0.02;
            else clearInterval(fade);
        }, 200);

        // анимация пульсации текста и звезд
        function animateAudio() {
            analyser.getByteFrequencyData(dataArray);
            let sum = 0;
            for (let i = 0; i < dataArray.length; i++) sum += dataArray[i];
            let avg = sum / dataArray.length;

            // текст пульсирует
            heroText.style.transform = `scale(${1 + avg / 1000})`;

            // звёзды реагируют на громкость
            stars.forEach(star => {
                star.alpha = Math.min(1, Math.max(0.2, star.alpha + avg / 5000));
            });

            requestAnimationFrame(animateAudio);
        }
        animateAudio();
    }).catch(err => {
        console.log("Воспроизведение заблокировано:", err);
    });

    // снимаем обработчик клика после первого запуска
    document.removeEventListener("click", unlockAudio);
});
</script>

</body>
</html>